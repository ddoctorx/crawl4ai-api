<!DOCTYPE html>
<html>

<head>
  <title>API 测试</title>
</head>

<body>
  <script>
    async function testAPI() {
      try {
        const response = await fetch('http://localhost:8000/api/crawl/url', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': 'Bearer YOUR_API_KEY'
          },
          body: JSON.stringify({
            url: 'https://www.anthropic.com/engineering/building-effective-agents',
            css_extraction_schema: {
              name: 'ProductInfo',
              baseSelector: '.product',
              fields: [
                { name: 'title', selector: 'h1', type: 'text' },
                { name: 'price', selector: '.price', type: 'text' },
              ],
            },
          }),
        });

        const data = await response.json();
        console.log('响应数据:', data);
      } catch (error) {
        console.error('错误:', error);
      }
    }
  </script>
  <button onclick="testAPI()">测试 API</button>
</body>

</html>